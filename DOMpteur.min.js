/* * * * * * * * * *
 *    DOM pteur    *
 *  Version 0.2.5  *
 *  License:  MIT  *
 * Simon  Waldherr *
 * * * * * * * * * */

var dompteur={matches:{"#":"getElementById","@":"getElementsByName"," ":"getElementsByTagName","=":"getElementsByTagName",".":"getElementsByClassName","*":"querySelectorAll"},elementcount:{i:1},timeoutReference:!1,domready:!1,defaultTagName:"p",htmldecode:function(a){"use strict";var b=document.createElement("div");return b.innerHTML=a,a=b.innerText||b.textContent,b=void 0,a},htmlencode:function(a){"use strict";var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),a=b.innerHTML,b=void 0,a},toJSON:function(a){"use strict";var b,c,d=!0,e={};return"string"==typeof a&&(c=document.createElement("div"),c.innerHTML=a,a=c,d=!1),b=function(a,c){var d,e,f,g,h,i,j,k;if(3===a.nodeType){if(!a.nodeValue.match(/[\S]{2,}/))return;c.$=a.nodeValue}else if(1===a.nodeType){for(k={},d=a.nodeName,h=0;a.attributes&&h<a.attributes.length;h+=1)g=a.attributes[h],e=g.localName,f=g.nodeValue,k["@"+e]=f;for(c[d]instanceof Array?c[d].push(k):c[d]=c[d]instanceof Object?[c[d],k]:k,i=0;i<a.childNodes.length;i+=1)b(a.childNodes[i],k)}else if(9===a.nodeType)for(j=0;j<a.childNodes.length;j+=1)b(a.childNodes[j],c)},b(a,e),d||(e=e.DIV),e},addElement:function(a,b,c){"use strict";var d,e,f=document.getElementById(b);if("Object"!=typeof a){if(void 0!==b)if(null!==f){if("head"===f.parentNode.tagName&&-1!==a.indexOf("{"))return void 0===f.getAttribute("href")&&void 0===f.getAttribute("src")&&f.tagName===c&&(e=document.getElementById(b)),!1}else"div"===c&&(e=document.getElementById(b));else d="dompteur_"+dompteur.elementcount.i,dompteur.elementcount.i+=1,-1!==a.indexOf("{")?(e=document.createElement(c),e.innerHTML=a):"style"===c?(e=document.createElement("link"),e.href=a,e.rel="stylesheet",e.type="text/css"):"script"===c?(e=document.createElement("script"),e.src=a,e.type="text/javascript"):e=document.createElement("div"),e.id=d,"div"===c?document.getElementsByTagName("body")[0].appendChild(e):document.getElementsByTagName("head")[0].appendChild(e);return void 0!==d?d:b}},addCSS:function(a,b){"use strict";return dompteur.addElement(a,b,"style")},addJS:function(a,b){"use strict";return dompteur.addElement(a,b,"script")},addDiv:function(a,b){"use strict";return dompteur.addElement(a,b,"div")},setDOMReady:function(){"use strict";dompteur.domready=!0},workOnCSS:function(a,b,c,d){"use strict";var e,f,g,h,i,j={},k=!1,l=!1,m={};if(void 0!==b&&null!==b&&(l=b),void 0!==c&&null!==c&&(k=c),void 0!==d&&null!==d&&(j=d),window.getComputedStyle){for(e=window.getComputedStyle(a,null),f=0,g=e.length;g>f;f+=1)h=e[f],i=e.getPropertyValue(h),l!==!1&&l(h,e.getPropertyValue(h)),void 0!==j[h]?a.style[h]=j[h]:void 0!==j.all&&(a.style[h]=""),m[h]=i;return k!==!1&&k(m),m}if(a.currentStyle){e=a.currentStyle;for(h in e)void 0!==e[h]&&e[h].length>3&&(l!==!1&&l(h,e[h]),void 0!==j[h]?a.style[h]=j[h]:void 0!==j.all&&(a.style[h]=""),m[h]=e[h]);return k!==!1&&k(m),m}if(e=a.style,"object"==typeof e){for(h in e)"function"!=typeof e[h]&&(l!==!1&&l(h,e[h]),void 0!==j[h]?a.style[h]=j[h]:void 0!==j.all&&(a.style[h]=""),m[h]=e[h]);return k!==!1&&k(m),m}return!1},getXbyX:function(a){"use strict";var b=a.charAt(0),c=dompteur.matches[b];return void 0!==c?document[c](a.substr(1)):document.querySelectorAll(a)},onDOMReady:function(a){"use strict";dompteur.domready===!1?window.addEventListener?(window.addEventListener("DOMContentLoaded",dompteur.setDOMReady,!1),window.addEventListener("DOMContentLoaded",a,!1)):(window.attachEvent("onload",dompteur.setDOMReady),window.attachEvent("onload",a)):a()},debouncedEL:function(a,b,c){"use strict";if(void 0!==a.addEventListener)a.addEventListener(b,function(a){dompteur.timeoutReference&&clearTimeout(dompteur.timeoutReference),dompteur.timeoutReference=setTimeout(function(){c(a)},200)},!1);else{if(void 0===a.attachEvent)return!1;a.attachEvent("on"+b,function(a){dompteur.timeoutReference&&clearTimeout(dompteur.timeoutReference),dompteur.timeoutReference=setTimeout(function(){c(a)},200)})}},ajax:function(a,b,c){"use strict";if(this.bindFunction=function(a,b){return function(){return a.apply(b,[b])}},this.stateChange=function(){4===this.request.readyState&&this.callback(this.request.responseText)},this.getRequest=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1},this.post=c||"",this.callback=b,this.url=a,this.request=this.getRequest(),this.request){var d=this.request;d.onreadystatechange=this.bindFunction(this.stateChange,this),""!==this.post?(d.open("POST",a,!0),d.setRequestHeader("Content-type","application/x-www-form-urlencoded")):d.open("GET",a,!0),d.send(this.post)}}},$,onDOMReady;$=void 0!==$?$:dompteur.getXbyX,onDOMReady=void 0!==onDOMReady?onDOMReady:dompteur.onDOMReady,Object.prototype.$=void 0!==Object.prototype.$?Object.prototype.$:function(a){"use strict";var b=a.charAt(0),c=dompteur.matches[b];return this[c](a.substr(1))},Object.prototype.getData=void 0!==Object.prototype.getData?Object.prototype.getData:function(a){"use strict";this.getAttribute("data-"+a)},Object.prototype.setData=void 0!==Object.prototype.setData?Object.prototype.setData:function(a,b){"use strict";this.setAttribute("data-"+a,b)},Object.prototype.addHTML=void 0!==Object.prototype.addHTML?Object.prototype.addHTML:function(a){"use strict";this.innerHTML+=a},Object.prototype.setHTML=void 0!==Object.prototype.setHTML?Object.prototype.setHTML:function(a){"use strict";this.innerHTML=a},Object.prototype.addViaJSON=void 0!==Object.prototype.addViaJSON?Object.prototype.addViaJSON:function(a,b){"use strict";this.innerHTML+=b(a)},Object.prototype.addViaXML=void 0!==Object.prototype.addViaXML?Object.prototype.addViaXML:function(a,b){"use strict";this.innerHTML+=b(dompteur.toJSON(a))},Object.prototype.addAsFirst=void 0!==Object.prototype.addAsFirst?Object.prototype.addAsFirst:function(a){"use strict";var b;return void 0===a.innerHTML?(b=void 0===a.tag?document.createElement(dompteur.defaultTagName):document.createElement(a.tag),void 0!==a.html?b.innerHTML=a.html:void 0!==a.text?b.innerText=a.text:b.innerHTML=""):b=a,this.insertBefore(b,this.firstChild),b},Object.prototype.addAsLast=void 0!==Object.prototype.addAsLast?Object.prototype.addAsLast:function(a){"use strict";var b;return void 0===a.innerHTML?(b=void 0===a.tag?document.createElement(dompteur.defaultTagName):document.createElement(a.tag),void 0!==a.html?b.innerHTML=a.html:void 0!==a.text?b.innerText=a.text:b.innerHTML=""):b=a,this.appendChild(b),b},Object.prototype.encodeHTML=void 0!==Object.prototype.encodeHTML?Object.prototype.encodeHTML:function(){"use strict";return"object"==typeof this?dompteur.htmlencode(this.outerHTML):dompteur.htmlencode(this)},String.prototype.decodeHTML=void 0!==String.prototype.decodeHTML?String.prototype.decodeHTML:function(){"use strict";return dompteur.htmldecode(this)},NodeList.prototype.first=void 0!==NodeList.prototype.first?NodeList.prototype.first:function(){"use strict";return this[0]},NodeList.prototype.last=void 0!==NodeList.prototype.last?NodeList.prototype.last:function(){"use strict";for(var a=this.length;a>0;){if(void 0!==this[a]&&this[a].hasChildNodes())return this[a];a-=1}},NodeList.prototype.forEach=void 0!==NodeList.prototype.forEach?NodeList.prototype.forEach:Array.prototype.forEach,Element.prototype.find=void 0!==Element.prototype.find?Element.prototype.find:Element.prototype.querySelectorAll,Element.prototype.innerTEXT=void 0!==Element.prototype.innerTEXT?Element.prototype.innerTEXT:Element.prototype.textContent,Element.prototype.getCSS=void 0!==Element.prototype.getCSS?Element.prototype.getCSS:function(){"use strict";return dompteur.workOnCSS(this,null,null)},Element.prototype.clearCSS=void 0!==Element.prototype.clearCSS?Element.prototype.clearCSS:function(){"use strict";return dompteur.workOnCSS(this,null,null,{all:!0}),this},Element.prototype.setCSS=void 0!==Element.prototype.setCSS?Element.prototype.setCSS:function(a){"use strict";return dompteur.workOnCSS(this,null,null,a),this},Element.prototype.getPosition=void 0!==Element.prototype.getPosition?Element.prototype.getPosition:function(){"use strict";var a=this.getBoundingClientRect(),b=this;for(a.position=this.style.position,a.left2=0,a.top2=0;"BODY"!==b.tagName;)a.left2+=b.offsetLeft+b.scrollLeft,a.top2+=b.offsetTop+b.scrollTop,b=b.offsetParent;return a};